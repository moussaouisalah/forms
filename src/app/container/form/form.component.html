<div class="flex flex-col items-center w-full max-w-6xl mx-auto p-4">
  <app-breadcrumbs
    *ngIf="!isLoading && !hasError && form"
    [items]="[
      { label: 'Forms', url: '/forms' },
      { label: '' + form.id + '. ' + form.title, isCurrent: true }
    ]"
  ></app-breadcrumbs>
  <app-spinner *ngIf="isLoading"></app-spinner>
  <app-error *ngIf="hasError"></app-error>
  <div
    *ngIf="!isLoading && !hasError && form"
    class="w-full mt-4 bg-white shadow overflow-hidden sm:rounded-lg"
  >
    <div class="px-4 py-5 sm:px-6 flex items-center justify-between">
      <div>
        <h3 class="text-lg leading-6 font-medium text-gray-900">
          {{ form.title }}
        </h3>
        <p class="mt-1 max-w-2xl text-sm text-gray-500">{{ form.creator }}</p>
      </div>
      <div>
        <a
          routerLink="answer"
          class="w-full flex items-center justify-center px-4 py-2 border border-transparent rounded-md text-white bg-indigo-600 hover:bg-indigo-700"
        >
          Answer
        </a>
      </div>
    </div>
    <div class="border-t border-gray-200">
      <dl>
        <div
          class="bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"
        >
          <dt class="text-sm font-medium text-gray-500">Creation Date</dt>
          <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2">
            {{ form.creationDate | date: "dd/MM/yyyy" }}
          </dd>
        </div>
        <div
          class="bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"
        >
          <dt class="text-sm font-medium text-gray-500">Number of questions</dt>
          <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2">
            {{ form.items.length }}
          </dd>
        </div>
        <div class="bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
          <dt class="text-sm font-medium text-gray-500">Number of answers</dt>
          <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2">
            {{ form.answers.length }}
          </dd>
        </div>

        <div
          class="bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"
        >
          <dt class="text-sm font-medium text-gray-500">Answers</dt>
          <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2">
            <ul
              role="list"
              class="border border-gray-200 rounded-md divide-y divide-gray-200"
            >
              <app-form-answer
                *ngFor="let answer of form.answers"
                [answer]="answer"
              ></app-form-answer>
            </ul>
          </dd>
        </div>
      </dl>
    </div>
  </div>
</div>
